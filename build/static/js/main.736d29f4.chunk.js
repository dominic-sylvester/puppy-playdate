(this["webpackJsonppuppy-playdate"]=this["webpackJsonppuppy-playdate"]||[]).push([[0],{101:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),c=a(26),l=(a(101),a(59)),u=a(39),p=a(54),s=a(148),m=a(141),d=a(146),h=a(149),g=a(64),f=a.n(g),y=a(143),E=Object(m.a)((function(e){return{root:{width:e.spacing(50),maxWidth:"100%",margin:"auto"},button:{marginTop:e.spacing(4)}}})),v=function(e){var t=e.handleGetStartedClick,a=E();return r.a.createElement("div",{className:a.root},r.a.createElement("p",null,"Every dog owner wants to find the perfect friends for their new puppy. Now we have an app for that!"),r.a.createElement("p",null,"Browse through various puppy profiles and swipe right or left to find your new puppy friend."),r.a.createElement(y.a,{variant:"contained",color:"primary",className:a.button,onClick:t},"Get Started"))},b=a(83),w=a.n(b),C=a(152),x=a(145),j=a(144),O=Object(m.a)((function(e){return{root:{maxWidth:"100%",textAlign:"left",height:e.spacing(80),boxShadow:"rgba(50, 50, 50, 0.08) 6px 8px 10px -3px",display:"flex",flexDirection:"column"},media:{height:e.spacing(50)},sideBySideContainer:{display:"flex",justifyContent:"space-between"},previouslyMatched:{fontStyle:"italic"},bio:{marginBottom:e.spacing(2)}}}));function N(e){var t,a=e.puppy,n=O();return r.a.createElement(C.a,{className:n.root},r.a.createElement(j.a,{className:n.media,image:"".concat("/puppy-playdate/build","/").concat(a.profilePic),title:a.name}),r.a.createElement(x.a,null,r.a.createElement("div",{className:n.sideBySideContainer},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name,", ",a.age),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p",className:n.previouslyMatched},"Previously matched ",a.matchedCount," ",1===a.matchedCount?"time":"times")),r.a.createElement(d.a,{variant:"body1",color:"textSecondary",component:"p",className:n.bio},a.bio),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("b",null,"Interests:")," ",null===(t=a.interests)||void 0===t?void 0:t.join(", "))))}var B=a(150),S=a(86),k=a.n(S),P=a(85),T=a.n(P),A=a(147),F=Object(m.a)((function(e){return{swipeButtonsContainer:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"flex-end",width:"100%",marginBottom:e.spacing(2),padding:e.spacing(1)}}})),M=function(e){var t=e.swipe,a=F();return r.a.createElement("div",{className:a.swipeButtonsContainer},r.a.createElement(B.a,{title:"No thanks...","aria-label":"No thanks...",arrow:!0},r.a.createElement(A.a,{"aria-label":"No thanks...",color:"secondary",onClick:function(){return t("left")}},r.a.createElement(T.a,null))),r.a.createElement(B.a,{title:"Yes!","aria-label":"Yes!",arrow:!0},r.a.createElement(A.a,{"aria-label":"Yes!",color:"primary",onClick:function(){return t("right")}},r.a.createElement(k.a,null))))},D=Object(m.a)((function(e){return{sorry:{marginBottom:e.spacing(4)},puppyCard:{width:e.spacing(75),maxWidth:"100%",margin:"auto",marginTop:e.spacing(4)},resetButton:{marginTop:e.spacing(4)}}})),W=function(e){var t=e.likedPuppies,a=e.resetTinderApp,n=D(),i=t[Math.floor(Math.random()*t.length)];return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h4",component:"h2"},"Congratulations! You matched with..."),r.a.createElement("div",{className:n.puppyCard},r.a.createElement(N,{puppy:i}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h4",component:"h2",className:n.sorry},"Sorry..."),r.a.createElement(d.a,{gutterBottom:!0,variant:"body1",component:"p"},"No one wanted to play with you.")),r.a.createElement(y.a,{variant:"contained",color:"primary",className:n.resetButton,onClick:a},"Start Over"))};function q(){var e=Object(p.a)(["\n  mutation updatePuppy($id: ID!, $matchedCount: Int!) {\n    updatePuppy(\n      input: { filter: { id: [$id] }, set: { matchedCount: $matchedCount } }\n    ) {\n      puppy {\n        id\n        matchedCount\n      }\n    }\n  }\n"]);return q=function(){return e},e}var I=Object(c.gql)(q()),$=Object(m.a)((function(e){return{cardContainer:{position:"relative",display:"flex",justifyContent:"center",margin:"auto",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)},swipeCard:{position:"absolute",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)}}})),Y=function(e){var t=e.puppyData,a=e.fetchPuppyData,i=$(),o=Object(n.useMemo)((function(){return Array(t.length).fill(0).map((function(e){return r.a.createRef()}))}),[t.length]),p=Object(n.useRef)([]),s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],h=m[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),y=f[0],E=f[1],v=Object(c.useMutation)(I),b=Object(u.a)(v,1)[0];return d<t.length?r.a.createElement("div",{className:i.cardContainer},t.map((function(e,t){return r.a.createElement(w.a,{className:i.swipeCard,key:e.id,onSwipe:function(t){return function(e,t){p.current&&p.current.push(t.id),"right"===e&&(E([].concat(Object(l.a)(y),[t])),b({variables:{id:t.id,matchedCount:t.matchedCount+1}})),h((function(e){return e+1}))}(t,e)},ref:o[t]},r.a.createElement(N,{puppy:e}))})),r.a.createElement(M,{swipe:function(e){var a=t.filter((function(e){var t;return!p.current||!(null===(t=p.current)||void 0===t?void 0:t.includes(e.id))}));if(a.length){var n=a[a.length-1].id,r=t.map((function(e){return e.id})).indexOf(n);o[r].current.swipe(e)}}})):r.a.createElement(W,{likedPuppies:y,resetTinderApp:function(){p.current=[],a(),h(0),E([])}})};function G(){var e=Object(p.a)(["\n  query FetchAllPuppies {\n    queryPuppy {\n      id\n      name\n      age\n      matchedCount\n      profilePic\n      bio\n      interests\n    }\n  }\n"]);return G=function(){return e},e}var R=Object(c.gql)(G()),J=Object(m.a)((function(e){return{root:{textAlign:"center",color:"#FFF"},header:{marginTop:e.spacing(6),marginBottom:e.spacing(6)},headerText:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}}));function z(){var e=J(),t=r.a.useState(!0),a=Object(u.a)(t,2),n=a[0],i=a[1],o=Object(c.useQuery)(R),p=o.data,m=o.refetch,g=p&&Object(l.a)(p.queryPuppy).sort((function(e,t){return e.name>t.name?-1:1}));return r.a.createElement("main",{className:e.root},r.a.createElement(s.a,null,r.a.createElement("h1",{className:e.header},r.a.createElement(f.a,null),r.a.createElement("span",{className:e.headerText},"Puppy Playdate"),r.a.createElement(f.a,null)),n?r.a.createElement(v,{handleGetStartedClick:function(){return i(!1)}}):g?r.a.createElement(Y,{puppyData:g,fetchPuppyData:m}):r.a.createElement("div",{className:e.loadingContainer},r.a.createElement(h.a,{color:"inherit",size:60}),r.a.createElement(d.a,{className:e.loadingText},"Fetching Puppies"))))}var L=new c.ApolloClient({uri:"https://puppy-playdate.us-west-2.aws.cloud.dgraph.io/graphql",cache:new c.InMemoryCache});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.ApolloProvider,{client:L},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(117)}},[[96,1,2]]]);
//# sourceMappingURL=main.736d29f4.chunk.js.map