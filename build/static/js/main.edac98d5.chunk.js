(this["webpackJsonppuppy-playdate"]=this["webpackJsonppuppy-playdate"]||[]).push([[0],{48:function(e,t,a){e.exports=a(63)},53:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),c=(a(53),a(12)),l=a.n(c),u=a(16),p=a(21),s=a(94),m=a(87),d=a(92),h=a(95),f=a(33),g=a.n(f);function y(e,t,a){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(l.a.mark((function e(t,a,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://puppy-playdate.us-west-2.aws.cloud.dgraph.io/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,operationName:a,variables:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(89),b=Object(m.a)((function(e){return{root:{width:e.spacing(50),maxWidth:"100%",margin:"auto"},button:{marginTop:e.spacing(4)}}})),w=function(e){var t=e.handleGetStartedClick,a=b();return r.a.createElement("div",{className:a.root},r.a.createElement("p",null,"Every dog owner wants to find the perfect friends for their new puppy. Now we have an app for that!"),r.a.createElement("p",null,"Browse through various puppy profiles and swipe right or left to find your new puppy friend."),r.a.createElement(E.a,{variant:"contained",color:"primary",className:a.button,onClick:t},"Get Started"))},x=a(41),C=a(37),N=a.n(C),j=a(98),O=a(91),k=a(90),S=Object(m.a)((function(e){return{root:{maxWidth:"100%",textAlign:"left",height:e.spacing(80),boxShadow:"rgba(50, 50, 50, 0.08) 6px 8px 10px -3px",display:"flex",flexDirection:"column"},media:{height:e.spacing(50)},sideBySideContainer:{display:"flex",justifyContent:"space-between"},previouslyMatched:{fontStyle:"italic"},bio:{marginBottom:e.spacing(2)}}}));function P(e){var t,a=e.puppy,n=S();return r.a.createElement(j.a,{className:n.root},r.a.createElement(k.a,{className:n.media,image:"".concat("/puppy-playdate/build","/").concat(a.profilePic),title:a.name}),r.a.createElement(O.a,null,r.a.createElement("div",{className:n.sideBySideContainer},r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name,", ",a.age),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p",className:n.previouslyMatched},"Previously matched ",a.matchedCount," ",1===a.matchedCount?"time":"times")),r.a.createElement(d.a,{variant:"body1",color:"textSecondary",component:"p",className:n.bio},a.bio),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("b",null,"Interests:")," ",null===(t=a.interests)||void 0===t?void 0:t.join(", "))))}var B=a(96),T=a(40),F=a.n(T),M=a(39),A=a.n(M),W=a(93),D=Object(m.a)((function(e){return{swipeButtonsContainer:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"flex-end",width:"100%",marginBottom:e.spacing(2),padding:e.spacing(1)}}})),q=function(e){var t=e.swipe,a=D();return r.a.createElement("div",{className:a.swipeButtonsContainer},r.a.createElement(B.a,{title:"No thanks...","aria-label":"No thanks...",arrow:!0},r.a.createElement(W.a,{"aria-label":"No thanks...",color:"secondary",onClick:function(){return t("left")}},r.a.createElement(A.a,null))),r.a.createElement(B.a,{title:"Yes!","aria-label":"Yes!",arrow:!0},r.a.createElement(W.a,{"aria-label":"Yes!",color:"primary",onClick:function(){return t("right")}},r.a.createElement(F.a,null))))},Y=Object(m.a)((function(e){return{sorry:{marginBottom:e.spacing(4)},puppyCard:{width:e.spacing(75),maxWidth:"100%",margin:"auto",marginTop:e.spacing(4)},resetButton:{marginTop:e.spacing(4)}}})),G=function(e){var t=e.likedPuppies,a=e.resetTinderApp,n=Y(),o=t[Math.floor(Math.random()*t.length)];return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h4",component:"h2"},"Congratulations! You matched with..."),r.a.createElement("div",{className:n.puppyCard},r.a.createElement(P,{puppy:o}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h4",component:"h2",className:n.sorry},"Sorry..."),r.a.createElement(d.a,{gutterBottom:!0,variant:"body1",component:"p"},"No one wanted to play with you.")),r.a.createElement(E.a,{variant:"contained",color:"primary",className:n.resetButton,onClick:a},"Start Over"))},I=Object(m.a)((function(e){return{cardContainer:{position:"relative",display:"flex",justifyContent:"center",margin:"auto",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)},swipeCard:{position:"absolute",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)}}})),J=function(e){var t=e.puppyData,a=e.fetchPuppyData,o=I(),i=Object(n.useMemo)((function(){return Array(t.length).fill(0).map((function(e){return r.a.createRef()}))}),[t.length]),c=Object(n.useRef)([]),s=Object(n.useState)(0),m=Object(p.a)(s,2),d=m[0],h=m[1],f=Object(n.useState)([]),g=Object(p.a)(f,2),v=g[0],E=g[1],b=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t.id,o=t.matchedCount+1,y(function(e,t){return'\n  mutation UpdatePuppyMatchedCount {\n    updatePuppy(input: { filter: { id: ["'.concat(e,'"] }, set: { matchedCount: ').concat(t," } }) {\n      puppy {\n        id\n        name\n        age\n        matchedCount\n        profilePic\n        bio\n        interests\n      }\n    }\n  }\n")}(r,o),"UpdatePuppyMatchedCount",{});case 2:a=e.sent,(n=a.errors)&&console.error(n);case 5:case"end":return e.stop()}var r,o}),e)})));return function(t){return e.apply(this,arguments)}}();return d<t.length?r.a.createElement("div",{className:o.cardContainer},t.map((function(e,t){return r.a.createElement(N.a,{className:o.swipeCard,key:e.id,onSwipe:function(t){return function(e,t){c.current&&c.current.push(t.id),"right"===e&&(E([].concat(Object(x.a)(v),[t])),b(t)),h((function(e){return e+1}))}(t,e)},ref:i[t]},r.a.createElement(P,{puppy:e}))})),r.a.createElement(q,{swipe:function(e){var a=t.filter((function(e){var t;return!c.current||!(null===(t=c.current)||void 0===t?void 0:t.includes(e.id))}));if(a.length){var n=a[a.length-1].id,r=t.map((function(e){return e.id})).indexOf(n);i[r].current.swipe(e)}}})):r.a.createElement(G,{likedPuppies:v,resetTinderApp:function(){c.current=[],a(),h(0),E([])}})},R=Object(m.a)((function(e){return{root:{textAlign:"center",color:"#FFF"},header:{marginTop:e.spacing(6),marginBottom:e.spacing(6)},headerText:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}}));function U(){var e=R(),t=r.a.useState(null),a=Object(p.a)(t,2),n=a[0],o=a[1],i=r.a.useState(!0),c=Object(p.a)(i,2),m=c[0],f=c[1],v=r.a.useCallback(Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("\n  query FetchAllPuppies {\n    queryPuppy {\n      id\n      name\n      age\n      matchedCount\n      profilePic\n      bio\n      interests\n    }\n  }\n","FetchAllPuppies",{});case 2:t=e.sent,a=t.errors,n=t.data,a&&console.error(a),r=n.queryPuppy.sort((function(e,t){return e.name>t.name?-1:1})),o(r);case 8:case"end":return e.stop()}}),e)}))),[]);return r.a.useEffect((function(){v()}),[v]),r.a.createElement("main",{className:e.root},r.a.createElement(s.a,null,r.a.createElement("h1",{className:e.header},r.a.createElement(g.a,null),r.a.createElement("span",{className:e.headerText},"Puppy Playdate"),r.a.createElement(g.a,null)),m?r.a.createElement(w,{handleGetStartedClick:function(){return f(!1)}}):n?r.a.createElement(J,{puppyData:n,fetchPuppyData:v}):r.a.createElement("div",{className:e.loadingContainer},r.a.createElement(h.a,{color:"inherit",size:60}),r.a.createElement(d.a,{className:e.loadingText},"Fetching Puppies"))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.edac98d5.chunk.js.map