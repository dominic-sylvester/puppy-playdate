{"version":3,"sources":["graphQLUtils.js","ReactTinderCard.js","PuppyCard.js","TinderSwipe.js","App.js","serviceWorker.js","index.js"],"names":["fetchGraphQL","operationsDoc","operationName","variables","a","fetch","method","headers","body","JSON","stringify","query","result","json","settings","getElementSize","element","elementStyles","window","getComputedStyle","widthString","getPropertyValue","width","Number","split","heightString","x","y","pythagoras","Math","sqrt","pow","animateOut","speed","easeIn","startPos","getTranslate","bodySize","document","diagonal","velocity","time","multiplier","translateString","translationString","rotateString","rotationPower","style","transition","getRotation","rotationString","random","transform","sleep","animateBack","startingPoint","translation","rotation","setTimeout","getSwipeDirection","abs","calcSpeed","oldLocation","newLocation","dx","dy","dt","rot","matrix","WebKitCSSMatrix","webkitTransform","m41","m42","asin","m21","PI","dragableTouchmove","coordinates","offset","lastLocation","pos","Date","getTime","rotCalc","touchCoordinatesFromEvent","e","touchLocation","targetTouches","clientX","clientY","mouseCoordinatesFromEvent","TinderCard","React","forwardRef","perentRef","elementGlobal","flickOnSwipe","children","onSwipe","onCardLeftScreen","className","preventSwipe","swipeAlreadyReleased","useRef","useImperativeHandle","swipe","dir","power","disturbance","display","handleSwipeReleased","useCallback","current","includes","handleSwipeStart","ref","mouseIsClicked","addEventListener","ev","preventDefault","createElement","useStyles","makeStyles","theme","root","maxWidth","textAlign","height","spacing","boxShadow","flexDirection","media","cardContent","justifyContent","flexGrow","bio","marginBottom","cardActions","PuppyCard","puppy","fetchPuppyData","classes","Card","CardMedia","image","process","profilePic","title","name","CardContent","Typography","gutterBottom","variant","component","age","color","interests","join","CardActions","Tooltip","aria-label","arrow","Fab","onClick","cardContainer","position","margin","swipeCard","alreadyRemoved","TinderSwipe","puppyData","childRefs","useMemo","Array","length","fill","map","i","createRef","console","log","cardsLeft","filter","id","toBeRemoved","index","indexOf","push","key","direction","nameToDelete","header","marginTop","headerText","paddingLeft","paddingRight","App","useState","setPuppyData","errors","data","error","queryPuppy","sort","puppyA","puppyB","useEffect","Container","loadingContainer","CircularProgress","size","loadingText","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.8470e4d0.chunk.js","sourcesContent":["// Main generic GraphQL request\nasync function fetchGraphQL(operationsDoc, operationName, variables) {\n  const result = await fetch(\n    'https://puppy-playdate.us-west-2.aws.cloud.dgraph.io/graphql',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: operationsDoc,\n        operationName,\n        variables,\n      }),\n    }\n  )\n\n  return await result.json()\n}\n\n// Fetch all puppies\nconst fetchAllPuppiesOperationsDoc = `\n  query FetchAllPuppies {\n    queryPuppy {\n      id\n      name\n      age\n      matched\n      profilePic\n      bio\n      interests\n    }\n  }\n`\n\nexport function fetchAllPuppies() {\n  return fetchGraphQL(fetchAllPuppiesOperationsDoc, 'FetchAllPuppies', {})\n}\n\n// Update the puppy matched status\nconst updatePuppyMatchedStatusOperationsDoc = (puppyId, newIsMatchedValue) => `\n  mutation UpdatePuppyMatchedStatus {\n    updatePuppy(input: { filter: { id: [\"${puppyId}\"] }, set: { matched: ${newIsMatchedValue} } }) {\n      puppy {\n        id\n        name\n        age\n        matched\n        profilePic\n        bio\n        interests\n      }\n    }\n  }\n`\n\nexport function updatePuppyMatchedStatus(puppyId, newIsMatchedValue) {\n  return fetchGraphQL(\n    updatePuppyMatchedStatusOperationsDoc(puppyId, newIsMatchedValue),\n    'UpdatePuppyMatchedStatus',\n    {}\n  )\n}\n","/* global WebKitCSSMatrix */\nimport React from 'react'\nimport sleep from 'p-sleep'\n\nconst settings = {\n  snapBackDuration: 300,\n  maxTilt: 2,\n  bouncePower: 0.2,\n  swipeThreshold: 5000,\n}\n\nconst getElementSize = (element) => {\n  const elementStyles = window.getComputedStyle(element)\n  const widthString = elementStyles.getPropertyValue('width')\n  const width = Number(widthString.split('px')[0])\n  const heightString = elementStyles.getPropertyValue('height')\n  const height = Number(heightString.split('px')[0])\n  return { x: width, y: height }\n}\n\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n}\n\nconst animateOut = async (element, speed, easeIn = false) => {\n  const startPos = getTranslate(element)\n  const bodySize = getElementSize(document.body)\n  const diagonal = pythagoras(bodySize.x, bodySize.y)\n\n  const velocity = pythagoras(speed.x, speed.y)\n  const time = diagonal / velocity\n  const multiplier = diagonal / velocity\n\n  const translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y)\n  let rotateString = ''\n\n  const rotationPower = 200\n\n  if (easeIn) {\n    element.style.transition = 'ease ' + time + 's'\n  } else {\n    element.style.transition = 'ease-out ' + time + 's'\n  }\n\n  if (getRotation(element) === 0) {\n    rotateString = rotationString((Math.random() - 0.5) * rotationPower)\n  } else if (getRotation(element) > 0) {\n    rotateString = rotationString((Math.random()) * rotationPower / 2 + getRotation(element))\n  } else {\n    rotateString = rotationString((Math.random() - 1) * rotationPower / 2 + getRotation(element))\n  }\n\n  element.style.transform = translateString + rotateString\n\n  await sleep(time * 1000)\n}\n\nconst animateBack = (element) => {\n  element.style.transition = settings.snapBackDuration + 'ms'\n  const startingPoint = getTranslate(element)\n  const translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower)\n  const rotation = rotationString(getRotation(element) * -settings.bouncePower)\n  element.style.transform = translation + rotation\n\n  setTimeout(() => {\n    element.style.transform = 'none'\n  }, settings.snapBackDuration * 0.75)\n\n  setTimeout(() => {\n    element.style.transition = '10ms'\n  }, settings.snapBackDuration)\n}\n\nconst getSwipeDirection = (speed) => {\n  if (Math.abs(speed.x) > Math.abs(speed.y)) {\n    return (speed.x > 0) ? 'right' : 'left'\n  } else {\n    return (speed.y > 0) ? 'up' : 'down'\n  }\n}\n\nconst calcSpeed = (oldLocation, newLocation) => {\n  const dx = newLocation.x - oldLocation.x\n  const dy = oldLocation.y - newLocation.y\n  const dt = (newLocation.time - oldLocation.time) / 1000\n  return { x: dx / dt, y: dy / dt }\n}\n\nconst translationString = (x, y) => {\n  const translation = 'translate(' + x + 'px, ' + y + 'px)'\n  return translation\n}\n\nconst rotationString = (rot) => {\n  const rotation = 'rotate(' + rot + 'deg)'\n  return rotation\n}\n\nconst getTranslate = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = { x: matrix.m41, y: matrix.m42 }\n  return ans\n}\n\nconst getRotation = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360\n  return ans\n}\n\nconst dragableTouchmove = (coordinates, element, offset, lastLocation) => {\n  const pos = { x: coordinates.x + offset.x, y: coordinates.y + offset.y }\n  const newLocation = { x: pos.x, y: pos.y, time: new Date().getTime() }\n  const translation = translationString(pos.x, pos.y)\n  const rotCalc = calcSpeed(lastLocation, newLocation).x / 1000\n  const rotation = rotationString(rotCalc * settings.maxTilt)\n  element.style.transform = translation + rotation\n  return newLocation\n}\n\nconst touchCoordinatesFromEvent = (e) => {\n  const touchLocation = e.targetTouches[0]\n  return { x: touchLocation.clientX, y: touchLocation.clientY }\n}\n\nconst mouseCoordinatesFromEvent = (e) => {\n  return { x: e.clientX, y: e.clientY }\n}\n\nexport const TinderCard = React.forwardRef(({ flickOnSwipe = true, children, onSwipe, onCardLeftScreen, className, preventSwipe = [] }, perentRef) => {\n  const swipeAlreadyReleased = React.useRef(false)\n\n  let elementGlobal\n\n  React.useImperativeHandle(perentRef, () => ({\n    async swipe (dir = 'right') {\n      if (onSwipe) onSwipe(dir)\n      const power = 1000\n      const disturbance = (Math.random() - 0.5) * 100\n      if (dir === 'right') {\n        await animateOut(elementGlobal, { x: power, y: disturbance }, true)\n      } else if (dir === 'left') {\n        await animateOut(elementGlobal, { x: -power, y: disturbance }, true)\n      } else if (dir === 'up') {\n        await animateOut(elementGlobal, { x: disturbance, y: power }, true)\n      } else if (dir === 'down') {\n        await animateOut(elementGlobal, { x: disturbance, y: -power }, true)\n      }\n      elementGlobal.style.display = 'none'\n      if (onCardLeftScreen) onCardLeftScreen(dir)\n    }\n  }))\n\n  const handleSwipeReleased = React.useCallback(async (element, speed) => {\n    if (swipeAlreadyReleased.current) { return }\n    swipeAlreadyReleased.current = true\n\n    // Check if this is a swipe\n    if (Math.abs(speed.x) > settings.swipeThreshold || Math.abs(speed.y) > settings.swipeThreshold) {\n      const dir = getSwipeDirection(speed)\n\n      if (onSwipe) onSwipe(dir)\n\n      if (flickOnSwipe) {\n        if (!preventSwipe.includes(dir)) {\n          await animateOut(element, speed)\n          element.style.display = 'none'\n          if (onCardLeftScreen) onCardLeftScreen(dir)\n          return\n        }\n      }\n    }\n\n    // Card was not flicked away, animate back to start\n    animateBack(element)\n  }, [swipeAlreadyReleased, flickOnSwipe, onSwipe, onCardLeftScreen, preventSwipe])\n\n  const handleSwipeStart = React.useCallback(() => {\n    swipeAlreadyReleased.current = false\n  }, [swipeAlreadyReleased])\n\n  const ref = React.useCallback((element) => {\n    if (!element) { return } // necesarry?\n    elementGlobal = element\n    let offset = { x: null, y: null }\n    let speed = { x: 0, y: 0 }\n    let lastLocation = { x: 0, y: 0, time: new Date().getTime() }\n    let mouseIsClicked = false\n\n    element.addEventListener(('touchstart'), (ev) => {\n      ev.preventDefault()\n      handleSwipeStart()\n      offset = { x: -touchCoordinatesFromEvent(ev).x, y: -touchCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('mousedown'), (ev) => {\n      ev.preventDefault()\n      mouseIsClicked = true\n      handleSwipeStart()\n      offset = { x: -mouseCoordinatesFromEvent(ev).x, y: -mouseCoordinatesFromEvent(ev).y }\n    })\n\n    element.addEventListener(('touchmove'), (ev) => {\n      ev.preventDefault()\n      const newLocation = dragableTouchmove(touchCoordinatesFromEvent(ev), element, offset, lastLocation)\n      speed = calcSpeed(lastLocation, newLocation)\n      lastLocation = newLocation\n    })\n\n    element.addEventListener(('mousemove'), (ev) => {\n      ev.preventDefault()\n      if (mouseIsClicked) {\n        const newLocation = dragableTouchmove(mouseCoordinatesFromEvent(ev), element, offset, lastLocation)\n        speed = calcSpeed(lastLocation, newLocation)\n        lastLocation = newLocation\n      }\n    })\n\n    element.addEventListener(('touchend'), (ev) => {\n      ev.preventDefault()\n      handleSwipeReleased(element, speed)\n    })\n\n    element.addEventListener(('mouseup'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n\n    element.addEventListener(('mouseleave'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element, speed)\n      }\n    })\n  }, [handleSwipeReleased, handleSwipeStart])\n\n  return (\n    React.createElement('div', { ref, className }, children)\n  )\n})\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Typography from '@material-ui/core/Typography'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport CloseIcon from '@material-ui/icons/Close'\nimport Fab from '@material-ui/core/Fab'\n\nimport { updatePuppyMatchedStatus } from './graphQLUtils'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: '100%',\n    textAlign: 'left',\n    height: theme.spacing(80),\n    boxShadow: 'rgba(50, 50, 50, 0.08) 6px 8px 10px -3px',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  media: {\n    height: theme.spacing(50),\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    flexGrow: 1,\n  },\n  bio: {\n    marginBottom: theme.spacing(2),\n  },\n  cardActions: {\n    justifyContent: 'space-around',\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nexport function PuppyCard({ puppy, fetchPuppyData, swipe }) {\n  const classes = useStyles()\n\n  const handleMatchedChange = async () => {\n    const { errors } = await updatePuppyMatchedStatus(puppy.id, !puppy.matched)\n\n    if (errors) {\n      console.error(errors)\n    }\n\n    // Re-fetching all the data to make the top-level app aware of the data change.\n    // This was especially important in getting it to remove a puppy from the UI\n    // when the Captured filter was selected and then a previously captured puppy\n    // was toggled to no longer be captured.\n    fetchPuppyData()\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardMedia\n        className={classes.media}\n        image={`${process.env.PUBLIC_URL}/${puppy.profilePic}`}\n        title={puppy.name}\n      />\n      <div className={classes.cardContent}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {puppy.name}, {puppy.age}\n          </Typography>\n          <Typography\n            variant=\"body1\"\n            color=\"textSecondary\"\n            component=\"p\"\n            className={classes.bio}\n          >\n            {puppy.bio}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            <b>Interests:</b> {puppy.interests?.join(', ')}\n          </Typography>\n        </CardContent>\n        <CardActions className={classes.cardActions}>\n          <Tooltip title=\"No thanks...\" aria-label=\"No thanks...\" arrow>\n            <Fab aria-label=\"No thanks...\" color=\"secondary\" onClick={() => swipe('left')}>\n              <CloseIcon />\n            </Fab>\n          </Tooltip>\n          <Tooltip title=\"Yes!\" aria-label=\"Yes!\" arrow>\n            <Fab aria-label=\"Yes!\" color=\"primary\" onClick={() => swipe('right')}>\n              <FavoriteIcon />\n            </Fab>\n          </Tooltip>\n        </CardActions>\n      </div>\n    </Card>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { TinderCard } from './ReactTinderCard'\n\nimport { PuppyCard } from './PuppyCard'\n\nconst useStyles = makeStyles((theme) => ({\n  cardContainer: {\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    margin: 'auto',\n    width: theme.spacing(75),\n    maxWidth: '100%',\n    height: theme.spacing(80),\n  },\n  swipeCard: {\n    position: 'absolute',\n    width: theme.spacing(75),\n    maxWidth: '100%',\n    height: theme.spacing(80),\n  },\n}))\n\nconst alreadyRemoved = []\n\nexport const TinderSwipe = ({ puppyData, fetchPuppyData }) => {\n  const classes = useStyles()\n\n  const childRefs = useMemo(() => Array(puppyData.length).fill(0).map(i => React.createRef()), [puppyData.length])\n\n  const swiped = (direction, nameToDelete) => {\n    console.log(`swiped ${direction} on ${nameToDelete}`)\n  }\n\n  const outOfFrame = (name) => {\n    console.log(name + ' left the screen!')\n  }\n\n  const swipe = (dir) => {\n    console.log('swipe', dir)\n    const cardsLeft = puppyData.filter(puppy => !alreadyRemoved.includes(puppy.id))\n    console.log(cardsLeft)\n    if (cardsLeft.length) {\n      const toBeRemoved = cardsLeft[cardsLeft.length - 1].id // Find the card object to be removed\n      console.log(toBeRemoved)\n      \n      const index = puppyData.map(puppy => puppy.id).indexOf(toBeRemoved) // Find the index of which to make the reference to\n      console.log(index)\n\n      alreadyRemoved.push(toBeRemoved) // Make sure the next card gets removed next time if this card do not have time to exit the screen\n      console.log(alreadyRemoved)\n\n      childRefs[index].current.swipe(dir) // Swipe the card!\n    }\n  }\n\n  return (\n    <div className={classes.cardContainer}>\n      {puppyData.map((puppy, index) => (\n        <TinderCard\n          className={classes.swipeCard}\n          key={puppy.id}\n          onSwipe={(dir) => swiped(dir, puppy.name)}\n          onCardLeftScreen={() => outOfFrame(puppy.name)}\n          ref={childRefs[index]}\n        >\n          <PuppyCard puppy={puppy} fetchPuppyData={fetchPuppyData} swipe={swipe} />\n        </TinderCard>\n      ))}\n    </div>\n  )\n}\n","import React from 'react'\nimport Container from '@material-ui/core/Container'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport PetsIcon from '@material-ui/icons/Pets';\n\nimport { fetchAllPuppies } from './graphQLUtils'\nimport { TinderSwipe } from './TinderSwipe'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    textAlign: 'center',\n    color: '#FFF',\n  },\n  header: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(6),\n  },\n  headerText: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n  }\n}))\n\nexport default function App() {\n  const classes = useStyles()\n  const [puppyData, setPuppyData] = React.useState(null)\n\n  const fetchPuppyData = React.useCallback(async () => {\n    const { errors, data } = await fetchAllPuppies()\n\n    if (errors) {\n      console.error(errors)\n    }\n\n    const result = data.queryPuppy.sort((puppyA, puppyB) =>\n      puppyA.name > puppyB.name ? -1 : 1\n    )\n\n    setPuppyData(result)\n  }, [])\n\n  React.useEffect(() => {\n    fetchPuppyData()\n  }, [fetchPuppyData])\n\n  return (\n    <main className={classes.root}>\n      <Container>\n        <h1 className={classes.header}>\n          <PetsIcon />\n          <span className={classes.headerText}>Puppy Playdate</span>\n          <PetsIcon />\n        </h1>\n        {puppyData ? (\n          <TinderSwipe puppyData={puppyData} fetchPuppyData={fetchPuppyData} />\n        ) : (\n          <div className={classes.loadingContainer}>\n            <CircularProgress color=\"inherit\" size={60} />\n            <Typography className={classes.loadingText}>Loading</Typography>\n          </div>\n        )}\n      </Container>\n    </main>\n  )\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}