(this["webpackJsonppuppy-playdate"]=this["webpackJsonppuppy-playdate"]||[]).push([[0],{45:function(e,t,a){e.exports=a(60)},50:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=(a(50),a(12)),l=a.n(c),u=a(16),s=a(24),p=a(91),m=a(84),d=a(89),f=a(92),h=a(31),g=a.n(h);function y(e,t,a){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t,a,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://puppy-playdate.us-west-2.aws.cloud.dgraph.io/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,operationName:a,variables:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=a(86),w=Object(m.a)((function(e){return{root:{width:e.spacing(50),maxWidth:"100%",margin:"auto"},button:{marginTop:e.spacing(4)}}})),b=function(e){var t=e.handleGetStartedClick,a=w();return r.a.createElement("div",{className:a.root},r.a.createElement("p",null,"Every dog owner wants to find the perfect friends for their new puppy. Now we have an app for that!"),r.a.createElement("p",null,"Browse through various puppy profiles and swipe right or left to find your new puppy friend."),r.a.createElement(v.a,{variant:"contained",color:"primary",className:a.button,onClick:t},"Get Started"))},x=a(34),N=a.n(x),j=a(95),k=a(88),C=a(87),O=Object(m.a)((function(e){return{root:{maxWidth:"100%",textAlign:"left",height:e.spacing(80),boxShadow:"rgba(50, 50, 50, 0.08) 6px 8px 10px -3px",display:"flex",flexDirection:"column"},media:{height:e.spacing(50)},bio:{marginBottom:e.spacing(2)}}}));function S(e){var t,a=e.puppy,n=(e.fetchPuppyData,O());return r.a.createElement(j.a,{className:n.root},r.a.createElement(C.a,{className:n.media,image:"".concat("/puppy-playdate/build","/").concat(a.profilePic),title:a.name}),r.a.createElement(k.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name,", ",a.age),r.a.createElement(d.a,{variant:"body1",color:"textSecondary",component:"p",className:n.bio},a.bio),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("b",null,"Interests:")," ",null===(t=a.interests)||void 0===t?void 0:t.join(", "))))}var P=a(93),B=a(37),D=a.n(B),T=a(36),W=a.n(T),q=a(90),A=Object(m.a)((function(e){return{swipeButtonsContainer:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"flex-end",width:"100%",marginBottom:e.spacing(2),padding:e.spacing(1)}}})),F=function(e){var t=e.swipe,a=A();return r.a.createElement("div",{className:a.swipeButtonsContainer},r.a.createElement(P.a,{title:"No thanks...","aria-label":"No thanks...",arrow:!0},r.a.createElement(q.a,{"aria-label":"No thanks...",color:"secondary",onClick:function(){return t("left")}},r.a.createElement(W.a,null))),r.a.createElement(P.a,{title:"Yes!","aria-label":"Yes!",arrow:!0},r.a.createElement(q.a,{"aria-label":"Yes!",color:"primary",onClick:function(){return t("right")}},r.a.createElement(D.a,null))))},G=Object(m.a)((function(e){return{cardContainer:{position:"relative",display:"flex",justifyContent:"center",margin:"auto",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)},swipeCard:{position:"absolute",width:e.spacing(75),maxWidth:"100%",height:e.spacing(80)}}})),I=function(e){var t=e.puppyData,a=e.fetchPuppyData,i=G(),o=Object(n.useMemo)((function(){return Array(t.length).fill(0).map((function(e){return r.a.createRef()}))}),[t.length]),c=Object(n.useRef)([]),l=Object(n.useState)(0),u=Object(s.a)(l,2),p=u[0],m=u[1];return p<t.length?r.a.createElement("div",{className:i.cardContainer},t.map((function(e,t){return r.a.createElement(N.a,{className:i.swipeCard,key:e.id,onSwipe:function(t){return function(e,t){c.current&&c.current.push(t.id),m((function(e){return e+1}))}(0,e)},ref:o[t]},r.a.createElement(S,{puppy:e,fetchPuppyData:a}))})),r.a.createElement(F,{swipe:function(e){var a=t.filter((function(e){var t;return!c.current||!(null===(t=c.current)||void 0===t?void 0:t.includes(e.id))}));if(a.length){var n=a[a.length-1].id,r=t.map((function(e){return e.id})).indexOf(n);o[r].current.swipe(e)}}})):r.a.createElement(v.a,{variant:"contained",color:"primary",className:i.button,onClick:function(){c.current=[],m(0)}},"Start Over")},J=Object(m.a)((function(e){return{root:{textAlign:"center",color:"#FFF"},header:{marginTop:e.spacing(6),marginBottom:e.spacing(6)},headerText:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}}));function R(){var e=J(),t=r.a.useState(null),a=Object(s.a)(t,2),n=a[0],i=a[1],o=r.a.useState(!0),c=Object(s.a)(o,2),m=c[0],h=c[1],E=r.a.useCallback(Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("\n  query FetchAllPuppies {\n    queryPuppy {\n      id\n      name\n      age\n      matched\n      profilePic\n      bio\n      interests\n    }\n  }\n","FetchAllPuppies",{});case 2:t=e.sent,a=t.errors,n=t.data,a&&console.error(a),r=n.queryPuppy.sort((function(e,t){return e.name>t.name?-1:1})),i(r);case 8:case"end":return e.stop()}}),e)}))),[]);return r.a.useEffect((function(){E()}),[E]),r.a.createElement("main",{className:e.root},r.a.createElement(p.a,null,r.a.createElement("h1",{className:e.header},r.a.createElement(g.a,null),r.a.createElement("span",{className:e.headerText},"Puppy Playdate"),r.a.createElement(g.a,null)),m?r.a.createElement(b,{handleGetStartedClick:function(){return h(!1)}}):n?r.a.createElement(I,{puppyData:n,fetchPuppyData:E}):r.a.createElement("div",{className:e.loadingContainer},r.a.createElement(f.a,{color:"inherit",size:60}),r.a.createElement(d.a,{className:e.loadingText},"Loading"))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.7566d0f0.chunk.js.map